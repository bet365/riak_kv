{src_dirs, ["./priv/tracers", "./src"]}.
{cover_enabled, false}.
{edoc_opts, [{preprocess, true}]}.
{erl_opts, [%warnings_as_errors,
            {parse_transform, lager_transform},
            {lager_extra_sinks, [object]},
            {src_dirs, ["src", "priv/tracers"]},
            {platform_define, "^[0-9]+", namespaced_types},
            {platform_define, "^[0-9]+", set_env_options},
            {platform_define, "^R15", "old_hash"},
            {i, "./_build/default/plugins/gpb/include"},
            {d, 'TEST_FS2_BACKEND_IN_RIAK_KV'}]}.

{eunit_opts, [
     no_tty,  %% This turns off the default output, MUST HAVE
     {report, {eunit_progress, [colored, profile]}} %% Use `profile' to see test timing information
     %% Uses the progress formatter with ANSI-colored output
     ]}.

{xref_checks, []}.
%% XXX yz_kv is here becase Ryan has not yet made a generic hook interface for object modification
%% XXX yz_stat is here for similar reasons -- we do not yet support dynamic stat hooks
%% XXX object is here because it's a new Lager sync
{xref_queries, [{"(XC - UC) || (XU - X - B - \"(cluster_info|dtrace|yz_kv|yz_stat|object)\" : Mod)", []}]}.

{erl_first_files, [
                   "src/riak_kv_backend.erl"
                  ]}.

{plugins, [{rebar3_gpb_plugin, {git, "https://github.com/basho/rebar3_gpb_plugin", {tag, "riak-3.0.1"}}},
           {eqc_rebar, {git, "https://github.com/Quviq/eqc-rebar", {branch, "master"}}}]}.

{gpb_opts, [{module_name_suffix, "_pb"},
            {i, "src"}]}.

{dialyzer, [{plt_apps, all_deps}]}.

{provider_hooks, [
                  {pre, [{compile, {protobuf, compile}}]}
                 ]}.

{profiles, [
    {test, [{deps, [meck,
                    {eunit_formatters, ".*", {git, "git://github.com/seancribbs/eunit_formatters", {tag, "v0.5.0"}}}]}]},
    {eqc, [{deps, [meck]}]}
]}.

{deps, [
	    gen_fsm_compat,
<<<<<<< HEAD
        {riak_core, ".*", {git, "git://github.com/bet365/riak_core.git", {tag, "riak_kv-3.1.0"}}},
        {sidejob, ".*", {git, "git://github.com/basho/sidejob.git", {tag, "2.1.0"}}},
        {bitcask, ".*", {git, "git://github.com/bet365/bitcask.git", {tag, "riak_kv-3.1.0"}}},
=======
        {riak_core, ".*", {git, "git://github.com/bet365/riak_core.git", {branch, "develop-3.1"}}},
        {sidejob, ".*", {git, "git://github.com/basho/sidejob.git", {branch, "develop-3.0"}}},
>>>>>>> 42f205d... Fixed tests, some in kv_test_util are being cancelled they need investihating
        {redbug, ".*", {git, "https://github.com/massemanet/redbug", {tag, "1.2.1"}}},
        {bitcask, ".*", {git, "git://github.com/bet365/bitcask.git", {branch, "develop-2.2.8-multi_bitcask_instances"}}},
        {sext, ".*", {git, "git://github.com/uwiger/sext.git", {tag, "1.4.1"}}},
<<<<<<< HEAD
<<<<<<< HEAD
        {riak_pipe, ".*", {git, "git://github.com/bet365/riak_pipe.git", {tag, "riak_kv-3.1.0"}}},
        {riak_dt, ".*", {git, "git://github.com/basho/riak_dt.git", {tag, "riak_kv-3.0.0"}}},
        {riak_api, ".*", {git, "git://github.com/bet365/riak_api.git", {tag, "riak_kv-3.1.1"}}},
        {hyper, ".*", {git, "git://github.com/basho/hyper", {tag, "1.1.0"}}},
        {leveled, ".*", {git, "https://github.com/martinsumner/leveled.git", {tag, "1.0.0"}}},
	    {kv_index_tictactree, ".*", {git, "https://github.com/martinsumner/kv_index_tictactree.git", {tag, "0.9.16"}}}
=======
        {riak_pipe, ".*", {git, "git://github.com/bet365/riak_pipe.git", {branch, "develop-2.2.8-multi_bitcask_instances"}}},
=======
        {riak_pipe, ".*", {git, "git://github.com/bet365/riak_pipe.git", {branch, "develop-3.0"}}},
>>>>>>> 7631bcd... Fixed compiling after rebase to develop-3.1
        {riak_dt, ".*", {git, "git://github.com/basho/riak_dt.git", {branch, "develop-3.0"}}},
        {riak_api, ".*", {git, "git://github.com/basho/riak_api.git", {branch, "develop-3.0"}}},
        {hyper, ".*", {git, "git://github.com/basho/hyper", {branch, "develop-3.0"}}},
        {leveled, ".*", {git, "https://github.com/martinsumner/leveled.git", {branch, "develop-3.0"}}},
	    {kv_index_tictactree, ".*", {git, "https://github.com/martinsumner/kv_index_tictactree.git", {branch, "develop-3.0"}}}
>>>>>>> e57f121... Upated rebar config
       ]}.
